; ------------------------------------------------------------------------------
; macros for forth 
; ------------------------------------------------------------------------------
macro m_setTOS val
{
       mov ebx, val
}

macro m_push val
{
       add ebp, 4
       mov [ebp], ebx
       mov ebx, val
}

; ------------------------------------------------------------------------------
macro m_getTOS val
{
       mov val, ebx
}

macro m_pop val
{
       mov val, ebx
       mov ebx, [ebp]
       sub ebp, 4
}

; ------------------------------------------------------------------------------
macro m_rpop tgt
{
       pop tgt
}

; ------------------------------------------------------------------------------
macro m_rpush val
{
       push val
}

; ------------------------------------------------------------------------------
macro m_DTOR
{
       m_pop eax
       m_rpush eax
}

; ------------------------------------------------------------------------------
macro m_RTOD
{
       m_rpop eax
       m_push eax
}

; ------------------------------------------------------------------------------
macro m_RPEEK
{
       m_rpop eax
       m_rpush eax
       m_rpush eax
}

; ------------------------------------------------------------------------------
macro m_onePlus 
{ 
       inc ebx 
}

; ------------------------------------------------------------------------------
macro m_oneMinus 
{ 
       dec ebx 
}

; ------------------------------------------------------------------------------
macro m_drop
{ 
       m_pop eax
}
